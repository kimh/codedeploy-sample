dependencies:
  override:
    - exit 0

test:
  override:
    - ./simulate_codedeploy_commands.sh
    - create_application_revision /tmp/codedeploy_applications.json /tmp/codedeploy_revisions.json
    - create_application_deployment /tmp/codedeploy_revisions.json /tmp/codedeploy_deployments.json

deployment:
  staging:
    branch: master
    codedeploy:
      CodeDeployGitHubDemo-App:
        application_root: /
        region: us-east-1
        revision_location:
          revision_type: S3
          s3_location:
            bucket: codedeploy-kimh1
            key_pattern: CodeDeployGitHubDemo-App-{BRANCH}-{SHORT_COMMIT}
        deployment_group: CodeDeployGitHubDemo-DepGrp
